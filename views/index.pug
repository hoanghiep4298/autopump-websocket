doctype html
head
  title Socket.IO chat
  //meta(http-equiv='Content-Security-Policy' content='upgrade-insecure-requests')
  //<script src="/socket.io.js"></script>
  <script src="/socket.io.js"></script>
  //script(src='https://localhost:3000/socket.io/socket.io.js')
  //script(src='http://code.jquery.com/jquery-1.11.1.js')
  link(rel='stylesheet' href='index.css')
p#messages
script.
  var socket = io();
  let currentMode;
  let connectionOptions = {
  rejectUnauthorized: false,
  "force new connection": true,
  "reconnectionAttempts": "infinity",
  "timeout": 10000,
  "transports": ["websocket"],
  secure: true
  };
  //const socket = io.connect('https://104.215.198.148', {rejectUnauthorized: false ,secure: true,transports: ['websocket'], port: 443});
  //const socket = io.connect('https://104.215.198.148', connectionOptions);
  socket.emit("connection", { message: "I'm Browser"});
  socket.on('init', function(data){
  document.getElementById('messages').innerHTML = data.message;
  });
  socket.on('updateToBrowser', function(data){
  console.log(data);
  })
.buttons
  .part1
    button#auto(name='autoPump') Auto Pump
  .part2
    button#on(name='on') Turn on
    button#off(name='off') Turn off

